<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>
<script>
    //1-了解
    //1.1
    /* let vals=[5,4,1,2,9];
    for(let val in vals){
        sum+=val;
    }
    console.log(sum) */


    //1.2
    /* let vals = [5, 4, 3, 2, 1]
    function sum(acc, val) {
        console.log(acc)
        return acc + val;
    }
    let answer = vals.reduce(sum,0);
    console.log(answer) */


    //1.3
    /*  let vals=[5,4,1,2,9];
     let acc=0;
     for(let val in vals){
         acc+=val;
     }
     console.log(sum) */


    //2-findMax
    //2.1
    /* let vals=[5,4,1,2,9];
    function findMax(acc,val){
        if(val>acc){
            acc=val;
        }
        return acc;
    }

    let biggest=vals.reduce(findMax);
    console.log(biggest); */

    //2.2
    /* let vals = [5, 4, 1, 2, 9];


    let biggest = vals.reduce((acc, val) => acc > val ? acc : val, 20);
    console.log(biggest); */


    //3.将二维转化为一维
    /* function arr(a, b) {
        console.log(a)
        return a.concat(b);
    }

    var flattened = [[0, 1], [2, 3], [4, 5]].reduce(arr, []);
    console.log(flattened);


    console.log([].concat([0, 1])) */



    //4.计算数组中每个元素出现的次数
    /* var names = ['Alice', 'Bob', 'Tiff', 'Bruce', 'Alice'];

    function juice(allNames, name) {
        console.log(allNames)
        if (name in allNames) {
            allNames[name]++;
        }
        else {
            allNames[name] = 1;
        }
        return allNames;
    }

    var countedNames = names.reduce(juice, {});
    console.log(countedNames) */


    //5.使用扩展运算符和initialValue绑定包含在对象数组中的数组
    /* var friends = [{
        name: 'Anna',
        books: ['Bible', 'Harry Potter'],
        age: 21
    }, {
        name: 'Bob',
        books: ['War and peace', 'Romeo and Juliet'],
        age: 26
    }, {
        name: 'Alice',
        books: ['The Lord of the Rings', 'The Shining'],
        age: 18
    }];

    function apple(prev, curr){
        console.log(prev)
        return [...prev, ...curr.books];
    }
    var allbooks = friends.reduce(apple, ['Alphabet']);

    console.log(allbooks); */

    /* let arr = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];
    let result = arr.sort().reduce((init, current) => {
        console.log(init)
        if (init.length === 0 || init[init.length - 1] !== current) {
            init.push(current);
        }
        return init;
    }, []);
    console.log(result); //[1,2,3,4,5] */
   
    let arr = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];
    function arr3(init, current){
        console.log(init)
        if (init.length === 0 || init[init.length - 1] !== current) {
            init.push(current);
        }
        return init;
    }
    let result = arr.sort().reduce(arr3,[])

</script>

</html>